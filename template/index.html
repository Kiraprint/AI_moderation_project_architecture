
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the AI Moderation Project">
      
      
      
      
      
        <link rel="next" href="../features/architecture/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Home - AI Moderation Project Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ml-system-design-doc" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="AI Moderation Project Documentation" class="md-header__button md-logo" aria-label="AI Moderation Project Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AI Moderation Project Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Home
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../getting-started/installation.md" class="md-tabs__link">
          
  
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../features/core-features.md" class="md-tabs__link">
          
  
  
  Features

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../api/overview.md" class="md-tabs__link">
          
  
  
  API Reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="AI Moderation Project Documentation" class="md-nav__button md-logo" aria-label="AI Moderation Project Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    AI Moderation Project Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ml" class="md-nav__link">
    <span class="md-ellipsis">
      Дизайн ML Система автоматизированной модерации контента
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Дизайн ML Система автоматизированной модерации контента">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. Цели и предпосылки
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Цели и предпосылки">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      1.1. Зачем идем в разработку продукта?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-" class="md-nav__link">
    <span class="md-ellipsis">
      1.2. Бизнес-требования и ограничения
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13" class="md-nav__link">
    <span class="md-ellipsis">
      1.3. Что входит в скоуп проекта/итерации, что не входит
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#131-" class="md-nav__link">
    <span class="md-ellipsis">
      1.3.1 Бизнес-требования текущей итерации
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#132" class="md-nav__link">
    <span class="md-ellipsis">
      1.3.2 Качество и воспроизводимость
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#133" class="md-nav__link">
    <span class="md-ellipsis">
      1.3.3 Технический долг
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14" class="md-nav__link">
    <span class="md-ellipsis">
      1.4. Предпосылки решения
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-data-scientist" class="md-nav__link">
    <span class="md-ellipsis">
      2. Методология Data Scientist
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Методология Data Scientist">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. Постановка задачи
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-" class="md-nav__link">
    <span class="md-ellipsis">
      2.2. Блок-схема решения
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#221-rule-based" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.1 Бейзлайн (Rule-Based)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#222-mvp" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.2 MVP
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. Подготовка пилота
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Подготовка пилота">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Способ оценки пилота
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Что считаем успешным пилотом
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" class="md-nav__link">
    <span class="md-ellipsis">
      3.3. Подготовка пилота
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-production" class="md-nav__link">
    <span class="md-ellipsis">
      4. Внедрение для production систем, если требуется
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Внедрение для production систем, если требуется">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. Архитектура решения
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42" class="md-nav__link">
    <span class="md-ellipsis">
      4.2. Описание инфраструктуры и масштабируемости
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      Выбранная инфраструктура
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      Плюсы и минусы
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      Сравнение с альтернативами
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43" class="md-nav__link">
    <span class="md-ellipsis">
      4.3. Требования к работе системы
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44" class="md-nav__link">
    <span class="md-ellipsis">
      4.4. Безопасность системы
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45" class="md-nav__link">
    <span class="md-ellipsis">
      4.5. Безопасность данных
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#46" class="md-nav__link">
    <span class="md-ellipsis">
      4.6. Издержки
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#47-integration-points" class="md-nav__link">
    <span class="md-ellipsis">
      4.7. Integration points
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#48" class="md-nav__link">
    <span class="md-ellipsis">
      4.8. Риски
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/installation.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/quick-start.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Features
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Features
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/core-features.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core Features
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/overview.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/endpoints.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Endpoints
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ml" class="md-nav__link">
    <span class="md-ellipsis">
      Дизайн ML Система автоматизированной модерации контента
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Дизайн ML Система автоматизированной модерации контента">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. Цели и предпосылки
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Цели и предпосылки">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      1.1. Зачем идем в разработку продукта?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-" class="md-nav__link">
    <span class="md-ellipsis">
      1.2. Бизнес-требования и ограничения
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13" class="md-nav__link">
    <span class="md-ellipsis">
      1.3. Что входит в скоуп проекта/итерации, что не входит
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#131-" class="md-nav__link">
    <span class="md-ellipsis">
      1.3.1 Бизнес-требования текущей итерации
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#132" class="md-nav__link">
    <span class="md-ellipsis">
      1.3.2 Качество и воспроизводимость
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#133" class="md-nav__link">
    <span class="md-ellipsis">
      1.3.3 Технический долг
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14" class="md-nav__link">
    <span class="md-ellipsis">
      1.4. Предпосылки решения
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-data-scientist" class="md-nav__link">
    <span class="md-ellipsis">
      2. Методология Data Scientist
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Методология Data Scientist">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. Постановка задачи
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-" class="md-nav__link">
    <span class="md-ellipsis">
      2.2. Блок-схема решения
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#221-rule-based" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.1 Бейзлайн (Rule-Based)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#222-mvp" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.2 MVP
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. Подготовка пилота
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Подготовка пилота">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Способ оценки пилота
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Что считаем успешным пилотом
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" class="md-nav__link">
    <span class="md-ellipsis">
      3.3. Подготовка пилота
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-production" class="md-nav__link">
    <span class="md-ellipsis">
      4. Внедрение для production систем, если требуется
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Внедрение для production систем, если требуется">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. Архитектура решения
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42" class="md-nav__link">
    <span class="md-ellipsis">
      4.2. Описание инфраструктуры и масштабируемости
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      Выбранная инфраструктура
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      Плюсы и минусы
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      Сравнение с альтернативами
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43" class="md-nav__link">
    <span class="md-ellipsis">
      4.3. Требования к работе системы
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44" class="md-nav__link">
    <span class="md-ellipsis">
      4.4. Безопасность системы
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45" class="md-nav__link">
    <span class="md-ellipsis">
      4.5. Безопасность данных
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#46" class="md-nav__link">
    <span class="md-ellipsis">
      4.6. Издержки
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#47-integration-points" class="md-nav__link">
    <span class="md-ellipsis">
      4.7. Integration points
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#48" class="md-nav__link">
    <span class="md-ellipsis">
      4.8. Риски
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="ml-system-design-doc">ML System Design Doc</h1>
<h2 id="ml">Дизайн ML Система автоматизированной модерации контента</h2>
<h3 id="1">1. Цели и предпосылки</h3>
<h4 id="11">1.1. Зачем идем в разработку продукта?</h4>
<p><strong>Бизнес-цель</strong></p>
<ul>
<li>Автоматизировать мониторинг пользовательских реакций на контент (посты, рекламу, новости) в соцсети</li>
<li>Оперативно выявлять негатив</li>
<li>Избежать санкций РКН</li>
</ul>
<p><strong>Почему станет лучше, чем сейчас, от использования ML</strong></p>
<ul>
<li>Мгновенный скрининг 100% контента 24/7</li>
<li>Возможность масштабировать решение на большее количество заявок</li>
<li>Объективная классификация с документально фиксируемыми критериями  </li>
<li>Раннее обнаружение эскалаций (например, организованный негатив)  </li>
<li>Последовательные, объективные оценки — нет человеческого фактора.</li>
<li>Возможность масштабирования и адаптации под разные языки/контексты</li>
</ul>
<p><strong>Критерии успеха:</strong></p>
<ul>
<li>Полнота ≥ 90% по toxic-комментариям. (больше 90% процентов токсичных комментариев распознано)</li>
<li>Точность ≥ 95%.</li>
<li>Сокращение времени модерации на 75%.</li>
<li>Увеличение охвата комментариев на модерацию до ≥ 95%.</li>
</ul>
<h4 id="12-">1.2. Бизнес-требования и ограничения</h4>
<p><strong>Ключевые требования:</strong></p>
<p><strong>Функциональные требования:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Требование</th>
<th style="text-align: left;">Метрика успеха</th>
<th style="text-align: left;">Приоритет</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Обнаружение нарушений</td>
<td style="text-align: left;">Recall ≥ 0.9 для классов: оскорбления, угрозы, экстремизм</td>
<td style="text-align: left;">Critical</td>
</tr>
<tr>
<td style="text-align: left;">Анализ тональности</td>
<td style="text-align: left;">Macro-F1 ≥ 0.8 по 3 классам (нег/нейтр/поз)</td>
<td style="text-align: left;">High</td>
</tr>
<tr>
<td style="text-align: left;">Интеграция</td>
<td style="text-align: left;">Автоматическое создание тикетов в CRM модераторов</td>
<td style="text-align: left;">High</td>
</tr>
</tbody>
</table>
<p><strong>Нефункциональные требования:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Требование</th>
<th style="text-align: left;">Метрика успеха</th>
<th style="text-align: left;">Приоритет</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Скорость обработки</td>
<td style="text-align: left;">&lt; 3 сек. на комментарий при 99%-перцентиле</td>
<td style="text-align: left;">Medium</td>
</tr>
<tr>
<td style="text-align: left;">Одновременная обработка</td>
<td style="text-align: left;">обработка 400 запросов в минуту (500к в день)</td>
<td style="text-align: left;">High</td>
</tr>
<tr>
<td style="text-align: left;">SLA(доступность)</td>
<td style="text-align: left;">≥ 99.5% времени</td>
<td style="text-align: left;">High</td>
</tr>
</tbody>
</table>
<p><strong>Ограничения:</strong></p>
<ul>
<li>Запрещена передача данных третьим лицам (требование РКН)  </li>
<li>Максимальная задержка в пилотном режиме: 5 сек.  </li>
<li>Бюджет на инфраструктуру пилота: 200 000 ₽/мес </li>
<li>Прозрачность решений (желание понимать, почему комментарий был помечен как негативный).</li>
<li>Сложности обработки сленгового языка</li>
</ul>
<p><strong>Что мы ожидаем от конкретной итерации:</strong></p>
<p>1) MVP:</p>
<ul>
<li>Простая классификация (3 класса: позитив / нейтральный / негатив).</li>
<li>REST API-интерфейс.</li>
<li>Web-интерфейс для модераторов с сортировкой по негативности.</li>
</ul>
<p>2) Технический долг:</p>
<ul>
<li>Обработка мультиязычности.</li>
<li>Обнаружение и объяснение иронии/сарказма.</li>
<li>Выделение тематик (hate speech, реклама, политика и т.д.).</li>
<li>Масштабирование системы</li>
</ul>
<p><strong>Бизнес-процесса пилота:</strong></p>
<ol>
<li>Система автоматически анализирует все новые комментарии</li>
<li>При обнаружении нарушения (confidence score ≥ 0.7):<ul>
<li>Создается тикет в CRM модераторов</li>
<li>Комментарий помечается для ручной проверки</li>
</ul>
</li>
<li>При низкой уверенности (confidence score &lt; 0.7):<ul>
<li>Комментарий направляется на ручное ревью</li>
</ul>
</li>
<li>Модераторы проверяют автоматически созданные тикеты</li>
<li>Система собирает обратную связь для улучшения модели</li>
</ol>
<p>Таким образом, текущий бизнес-процесс (BPMN):
<pre class="mermaid"><code>flowchart TD
    A[Пользователь публикует комментарий] --&gt; B[Система сохраняет комментарий]
    B --&gt; C[Система ставит в очередь на модерацию]
    C --&gt; D{Комментарий проверен модератором?}
    D -- Да --&gt; E[Модератор читает комментарий]
    E --&gt; F{Комментарий токсичен?}
    F -- Да --&gt; G[Комментарий помечен как токсичный / удалён]
    F -- Нет --&gt; H[Комментарий одобрен]
    D -- Нет --&gt; I[Ожидание модератора]</code></pre></p>
<p>Получит следующее развитие:
<pre class="mermaid"><code>flowchart TD
    A[Пользователь публикует комментарий] --&gt; B[Система сохраняет комментарий]
    B --&gt; C[Kafka ставит комментарий в очередь]
    C --&gt; D[Sentiment Engine анализирует комментарий]

    E{Комментарий токсичен/негативен?} -- Да --&gt; F[Комментарий помечен как токсичный]
    F --&gt; G[Передан модератору для ручной проверки]
    G --&gt; G1{Модератор подтверждает токсичность?}
    G1 -- Да --&gt; G2[Комментарий удалён / скрыт]
    G1 -- Нет --&gt; G3[Комментарий опубликован вручную]

    E -- Нет --&gt; H[Комментарий публикуется автоматически]

    G2 --&gt; I[Логгирование и обратная связь для модели]
    G3 --&gt; I
    H --&gt; I

    I --&gt; J{Требуется дообучение модели?}
    J -- Да --&gt; K[Добавить комментарий в обучающий датасет]
    J -- Нет --&gt; L[Завершение процесса]
    K --&gt; L
    D --&gt; M{Ошибка анализа?}
    M -- Да --&gt; N[Комментарий направлен на ручную проверку]
    N --&gt; G
    M -- Нет --&gt; E</code></pre></p>
<p><strong>Критерии успеха пилота:</strong></p>
<ul>
<li>Технические:<ul>
<li>Достижение метрик качества (Recall ≥ 0.9, Macro-F1 ≥ 0.8)</li>
<li>Стабильная работа при нагрузке 400 запросов/мин</li>
<li>Время обработки &lt; 3 сек на комментарий</li>
</ul>
</li>
<li>Бизнес-метрики:<ul>
<li>Сокращение времени модерации на 70%</li>
<li>Снижение количества пропущенных нарушений на 90%</li>
<li>Положительная обратная связь от модераторов</li>
</ul>
</li>
</ul>
<p><strong>Пути развития:</strong></p>
<ul>
<li>Расширение на другие языки (украинский, казахский)</li>
<li>Добавление новых типов нарушений</li>
<li>Интеграция с другими платформами</li>
<li>Разработка мобильного интерфейса для модераторов</li>
</ul>
<h4 id="13">1.3. Что входит в скоуп проекта/итерации, что не входит</h4>
<h4 id="131-">1.3.1 Бизнес-требования текущей итерации</h4>
<p><code>Data Scientist</code></p>
<p><strong>Закрываем в MVP:</strong></p>
<ul>
<li>Базовая классификация комментариев на токсичные/нетоксичные с Recall ≥ 0.9</li>
<li>Анализ тональности с Macro-F1 ≥ 0.8</li>
<li>Обработка до 400 запросов в минуту</li>
<li>Интеграция с CRM модераторов</li>
<li>Автоматическое создание тикетов для подозрительных комментариев</li>
</ul>
<p><strong>Откладываем на будущие итерации:</strong></p>
<ul>
<li>Мультиязычная поддержка (украинский, казахский)</li>
<li>Анализ изображений и видео</li>
<li>Детекция организованных атак</li>
<li>Мобильный интерфейс для модераторов</li>
<li>Интеграция с другими платформами</li>
<li>Модерация прикрепляемого медиа</li>
</ul>
<h4 id="132">1.3.2 Качество и воспроизводимость</h4>
<p><code>Data Scientist</code></p>
<p><strong>Код:</strong></p>
<ul>
<li>Документированный API с OpenAPI спецификацией</li>
<li>Unit-тесты с покрытием &gt;80%</li>
<li>CI/CD пайплайн с автоматическим тестированием</li>
<li>Контейнеризация всех компонентов (Docker)</li>
<li>Версионирование моделей (MLflow)</li>
</ul>
<p><strong>Воспроизводимость:</strong></p>
<ul>
<li>Полная документация по развертыванию</li>
<li>Скрипты для подготовки данных</li>
<li>Конфигурация через переменные окружения</li>
<li>Логирование всех этапов обработки</li>
<li>Мониторинг метрик в Grafana</li>
</ul>
<h4 id="133">1.3.3 Технический долг</h4>
<p><code>Data Scientist</code></p>
<p><strong>Оптимизация производительности:</strong></p>
<ul>
<li>Кэширование эмбеддингов</li>
<li>Батчинг запросов</li>
<li>Оптимизация размеров моделей</li>
</ul>
<p><strong>Масштабирование:</strong></p>
<ul>
<li>Горизонтальное масштабирование компонентов</li>
<li>Балансировка нагрузки</li>
<li>Репликация баз данных</li>
</ul>
<p><strong>Безопасность:</strong></p>
<ul>
<li>Шифрование данных в rest</li>
<li>Аудит доступа</li>
<li>Защита от атак на ML-модели</li>
</ul>
<h4 id="14">1.4. Предпосылки решения</h4>
<p><strong>Данные:</strong>  </p>
<ul>
<li>
<p>Основной источник: Kafka-топик <code>user_comments</code> - текстовое поле JSON-а, может содержать ссылку на медиафайлы </p>
</li>
<li>
<p>Обогащение:</p>
<ul>
<li>История автора (регистрация, прошлые блокировки)  </li>
<li>Контекст поста (категория контента, геометка)  </li>
</ul>
</li>
</ul>
<p><strong>Ключевые гипотезы:</strong></p>
<ul>
<li>Для продвинутой тематической классификации необходимо использовать NLP модель из DL домена</li>
<li>Комбинация текста + метаданных повышает F1 на 12% (подтверждено POC)  </li>
<li>Эмбеддинги &gt; 512 токенов не дают прироста для 99% комментариев</li>
<li>"Плохих" комментарии составляют ≤ 10% от общего кол-ва</li>
</ul>
<h3 id="2-data-scientist">2. Методология <code>Data Scientist</code></h3>
<h4 id="21">2.1. Постановка задачи</h4>
<p>Данная задача соответствует задаче поиска аномалий, поскольку целевой класс (негативный) лишь один. Наблюдается характерный дизбаланс классов (обычных комментариев будет сильно больше, чем негативных)</p>
<h4 id="22-">2.2. Блок-схема решения</h4>
<h4 id="221-rule-based">2.2.1 Бейзлайн (Rule-Based)</h4>
<p><pre class="mermaid"><code>flowchart LR
    A[Комментарий] --&gt; B{Правила: regex + ключ.слова}
    B --&gt;|Нарушение| E[Морфемный анализ]
    E --&gt;|Обычное слово| D[Пропуск]
    E --&gt;|Точно нарушение| С[Флаг в CRM]
    B --&gt;|Чистый| D</code></pre>
В качестве ключевых слов используем классические словари русского мата и дополнительные модерируемые топики, для уменьшения False-Positive ошибки подключим pymorph2</p>
<h4 id="222-mvp">2.2.2 MVP</h4>
<pre class="mermaid"><code>flowchart LR
    A[Комментарий] --&gt; B{Правила: regex + ключ.слова}
    B --&gt;|Нарушение| E[Морфемный анализ]
    E --&gt;|Обычное слово| D[RuBERT для всего текста]
    D --&gt; F{P&gt;0.7}
    F --&gt;|Да| С[Флаг в CRM]
    F --&gt;|Нет| G[Пропуск]
    E --&gt;|Точно нарушение| С
    B --&gt;|Чистый| D</code></pre>
<p>Используя Baseline, дообучаем RuBERT на нашем, в ручную составленном датасете с негативными комментариями.</p>
<h3 id="3">3. Подготовка пилота</h3>
<h4 id="31">3.1. Способ оценки пилота</h4>
<p><code>Product Owner</code>, <code>Data Scientist</code> with <code>AB Group</code></p>
<p><strong>Дизайн эксперимента:</strong>
- A/B тестирование на 10% трафика (50K комментариев/день)
- Случайное распределение между контрольной (rule-based) и тестовой (ML) группами
- Длительность: 2 недели для сбора статистики
- Модераторы не знают, к какой группе относится комментарий</p>
<p><strong>Метрики оценки:</strong>
- Время обработки комментария
- Количество пропущенных нарушений
- Согласованность решений между модераторами
- Удовлетворенность модераторов (опрос)</p>
<h4 id="32">3.2. Что считаем успешным пилотом</h4>
<p><code>Product Owner</code></p>
<p><strong>Критерии успеха:</strong></p>
<ul>
<li>
<p>Технические:</p>
<ul>
<li>Достижение метрик качества (Recall ≥ 0.9, Macro-F1 ≥ 0.8)</li>
<li>Стабильная работа при нагрузке 400 запросов/мин</li>
<li>Время обработки &lt; 3 сек на комментарий</li>
</ul>
</li>
<li>
<p>Бизнес-метрики:</p>
<ul>
<li>Сокращение времени модерации на 70%</li>
<li>Снижение количества пропущенных нарушений на 90%</li>
<li>Положительная обратная связь от модераторов</li>
</ul>
</li>
</ul>
<h4 id="33">3.3. Подготовка пилота</h4>
<p><code>Data Scientist</code></p>
<p><strong>Вычислительные ресурсы:</strong></p>
<ul>
<li>Инфраструктура:</li>
<li>2 GPU-сервера (NVIDIA A100)</li>
<li>32 CPU-ядра для препроцессинга</li>
<li>64GB RAM</li>
<li>1TB SSD для данных</li>
</ul>
<p><strong>Ограничения и оптимизации:</strong></p>
<ul>
<li>Батчинг запросов (размер батча = 32)</li>
<li>Кэширование эмбеддингов</li>
<li>Квантизация моделей (FP16)</li>
<li>Разбиение длины входного текста до кусочков в 512 токенов</li>
</ul>
<p><strong>Мониторинг производительности:</strong></p>
<ul>
<li>Метрики GPU/CPU утилизации</li>
<li>Время инференса</li>
<li>Использование памяти</li>
<li>Латентность API</li>
</ul>
<p><strong>План масштабирования:</strong></p>
<ul>
<li>Начальная нагрузка: 100 запросов/мин</li>
<li>Постепенное увеличение до 400 запросов/мин</li>
<li>Автоматическое масштабирование при превышении порогов</li>
</ul>
<h3 id="4-production">4. Внедрение <code>для production систем, если требуется</code></h3>
<h4 id="41">4.1. Архитектура решения</h4>
<p>Ожидаемая <strong>структурная</strong> UML диаграмма
<pre class="mermaid"><code>%% UML Component Diagram: ML-модерация комментариев

graph TB
    %% Основные компоненты
    UserClient["User Client"]
    APIGateway["API Gateway"]
    CommentService["Comment Service"]
    KafkaQueue["Kafka Queue"]
    SentimentEngine["Sentiment Engine (ML)"]
    ModerationService["Moderation Service"]
    ModeratorUI["Moderator UI"]
    FeedbackModule["Feedback Module"]
    ModelTrainer["Model Trainer"]
    Database["Database"]

    %% Связи между компонентами
    UserClient --&gt; APIGateway
    APIGateway --&gt; CommentService
    CommentService --&gt; KafkaQueue
    KafkaQueue --&gt; SentimentEngine
    SentimentEngine --&gt; ModerationService
    ModerationService --&gt; ModeratorUI
    ModeratorUI --&gt; ModerationService
    ModerationService --&gt; FeedbackModule
    FeedbackModule --&gt; ModelTrainer
    ModelTrainer --&gt; SentimentEngine
    CommentService --&gt; Database
    ModerationService --&gt; Databas
    FeedbackModule --&gt; Database
    ModelTrainer --&gt; Database
</code></pre></p>
<p>Итоговая <strong>поведенческая</strong> UML диаграмма:
<pre class="mermaid"><code>%% Use Case Diagram — ML-модерация комментариев (расширено с ML)

graph TD
    %% Акторы
    user([Пользователь])
    moderator([Модератор])
    system([Система])
    model([ML-модель])

    %% Варианты использования: пользователь
    user --&gt; UC1[Опубликовать комментарий]
    UC1 --&gt; UC2[Сохранить комментарий]
    UC2 --&gt; UC3[Поставить в очередь Kafka]

    %% Варианты использования: система
    system --&gt; UC4[Запросить анализ у ML-модели]
    UC3 --&gt; UC4

    %% Работа модели
    model --&gt; UC5[Предсказать тональность и токсичность]
    UC4 --&gt; UC5
    UC5 --&gt; UC6[Вернуть класс и confidence-оценку]
    UC6 --&gt; UC7[Принять решение по публикации]

    %% Варианты: токсичность
    UC7 --&gt;|Токсично| UC8[Отправить на ручную модерацию]
    UC7 --&gt;|Нейтрально/Позитивно| UC9[Автоматически опубликовать комментарий]

    %% Работа модератора
    moderator --&gt; UC10[Проверить токсичный комментарий]
    UC10 --&gt; UC11[Принять решение удалить/опубликовать]
    UC11 --&gt; UC12[Обновить статус комментария]

    %% Обратная связь
    UC12 --&gt; UC13[Отправить фидбек в систему]
    system --&gt; UC14[Добавить в обучающий датасет]
    UC13 --&gt; UC14

    %% Логгирование
    system --&gt; UC15[Логгировать действия и метрики]

    %% Ошибка анализа
    UC5 --&gt; UC16{Ошибка анализа?}
    UC16 --&gt;|Да| UC8
    UC16 --&gt;|Нет| UC6</code></pre></p>
<p>На их основе обоснована следующая ER диаграмма, которую ожидается видеть и в коде:
<pre class="mermaid"><code>erDiagram
    User ||--o{ Comment : "1 to many"
    User {
        int user_id PK
        string username
        date registration_date
        int reputation_score
    }

    Comment ||--o{ ML_log : "1 to many"
    Comment ||--o{ ModerationAction : "1 to many"
    Comment {
        int id PK
        int user_id FK
        string content
        timestamp timestamp
        float toxicity_score
        boolean is_toxic
        boolean is_borderline
        string status
    }

    Moderator ||--o{ ModerationAction : "1 to many"
    Moderator {
        int id PK
        string name
        string email
    }

    ML_log {
        int id PK
        int comment_id FK
        string model_version
        string prediction_result
        string explanation_json
        timestamp processed_at
    }

    ModerationAction {
        int id PK
        int comment_id FK
        int moderator_id FK
        string action_type
        timestamp time
        string description
    }</code></pre></p>
<h4 id="42">4.2. Описание инфраструктуры и масштабируемости</h4>
<h4 id="_1">Выбранная инфраструктура</h4>
<p><strong>Основной стек:</strong>
- Kubernetes кластер на AWS EKS
- ML модели развернуты через Seldon Core
- Kafka для потоковой обработки комментариев
- PostgreSQL для хранения метаданных и логов
- Redis для кэширования предсказаний</p>
<p><strong>Причины выбора:</strong>
- Горизонтальное масштабирование под нагрузку
- Отказоустойчивость и автоматическое восстановление
- Интеграция с существующей AWS инфраструктурой
- Поддержка CI/CD через GitLab pipelines</p>
<h4 id="_2">Плюсы и минусы</h4>
<p><strong>Плюсы:</strong>
- Автоматическое масштабирование под пиковые нагрузки
- Изоляция ML сервисов для независимого обновления
- Мониторинг через Prometheus + Grafana
- Возможность A/B тестирования моделей</p>
<p><strong>Минусы:</strong>
- Высокий порог входа в DevOps
- Overhead на управление кластером
- Сложность отладки распределенной системы
- Дополнительные расходы на инфраструктуру</p>
<h4 id="_3">Сравнение с альтернативами</h4>
<p><strong>Почему EKS + Seldon лучше:</strong>
1. vs. VM-based deployment:
   - Автоматическое масштабирование
   - Контейнеризация для воспроизводимости
   - Проще управление зависимостями</p>
<ol>
<li>vs. Serverless (AWS Lambda):</li>
<li>Ниже latency для ML инференса</li>
<li>Экономия на холодных стартах</li>
<li>
<p>Лучший контроль над ресурсами</p>
</li>
<li>
<p>vs. Managed ML services:</p>
</li>
<li>Полный контроль над моделями</li>
<li>Ниже TCO при масштабировании</li>
<li>Возможность кастомизации</li>
</ol>
<h4 id="43">4.3. Требования к работе системы</h4>
<p><code>Data Scientist</code></p>
<table>
<thead>
<tr>
<th>Метрика</th>
<th>Требование</th>
<th>Обоснование</th>
</tr>
</thead>
<tbody>
<tr>
<td>SLA</td>
<td>99.9% uptime</td>
<td>Критичность модерации контента</td>
</tr>
<tr>
<td>Пропускная способность</td>
<td>1000 комм/сек</td>
<td>Пиковая нагрузка в часы активности</td>
</tr>
<tr>
<td>Задержка</td>
<td>&lt; 200 мс</td>
<td>Для интерактивной модерации</td>
</tr>
<tr>
<td>Восстановление</td>
<td>&lt; 5 мин</td>
<td>При сбоях компонентов</td>
</tr>
<tr>
<td>Масштабирование</td>
<td>Автоматическое</td>
<td>Под динамическую нагрузку</td>
</tr>
</tbody>
</table>
<h4 id="44">4.4. Безопасность системы</h4>
<p><code>Data Scientist</code></p>
<table>
<thead>
<tr>
<th>Уязвимость</th>
<th>Риск</th>
<th>Меры защиты</th>
</tr>
</thead>
<tbody>
<tr>
<td>DDoS</td>
<td>Высокий</td>
<td>AWS Shield + Rate Limiting</td>
</tr>
<tr>
<td>Инъекции</td>
<td>Средний</td>
<td>Валидация входных данных</td>
</tr>
<tr>
<td>XSS</td>
<td>Средний</td>
<td>Санитизация контента</td>
</tr>
<tr>
<td>CSRF</td>
<td>Низкий</td>
<td>CSRF токены</td>
</tr>
<tr>
<td>Брутфорс</td>
<td>Средний</td>
<td>Rate limiting + 2FA</td>
</tr>
</tbody>
</table>
<h4 id="45">4.5. Безопасность данных</h4>
<p><code>Data Scientist</code></p>
<table>
<thead>
<tr>
<th>Требование</th>
<th>Соответствие</th>
<th>Реализация</th>
</tr>
</thead>
<tbody>
<tr>
<td>GDPR</td>
<td>Да</td>
<td>Анонимизация данных</td>
</tr>
<tr>
<td>152-ФЗ</td>
<td>Да</td>
<td>Локальное хранение</td>
</tr>
<tr>
<td>PCI DSS</td>
<td>Н/Д</td>
<td>Не обрабатываем платежи</td>
</tr>
<tr>
<td>HIPAA</td>
<td>Н/Д</td>
<td>Не медицинские данные</td>
</tr>
<tr>
<td>ISO 27001</td>
<td>Частично</td>
<td>В процессе сертификации</td>
</tr>
</tbody>
</table>
<h4 id="46">4.6. Издержки</h4>
<p><code>Data Scientist</code></p>
<table>
<thead>
<tr>
<th>Компонент</th>
<th>Стоимость (мес), ₽</th>
<th>Обоснование</th>
</tr>
</thead>
<tbody>
<tr>
<td>EKS кластер</td>
<td>50000</td>
<td>3 ноды t3.large</td>
</tr>
<tr>
<td>Seldon Core</td>
<td>20000</td>
<td>Enterprise лицензия</td>
</tr>
<tr>
<td>Мониторинг</td>
<td>15000</td>
<td>Prometheus + Grafana</td>
</tr>
<tr>
<td>Хранение</td>
<td>10000</td>
<td>S3 + EBS volumes</td>
</tr>
<tr>
<td>Сеть</td>
<td>5000</td>
<td>Data transfer + NAT</td>
</tr>
<tr>
<td><strong>Итого</strong></td>
<td><strong>100000</strong></td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="47-integration-points">4.7. Integration points</h4>
<p><code>Data Scientist</code></p>
<table>
<thead>
<tr>
<th>Сервис</th>
<th>Метод</th>
<th>Endpoint</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>Kafka</td>
<td>Producer</td>
<td>/api/v1/comments</td>
<td>Прием новых комментариев</td>
</tr>
<tr>
<td>ML Pipeline</td>
<td>gRPC</td>
<td>/predict</td>
<td>Инференс моделей</td>
</tr>
<tr>
<td>CRM</td>
<td>REST</td>
<td>/api/v1/flags</td>
<td>Отправка флагов</td>
</tr>
<tr>
<td>Monitoring</td>
<td>Prometheus</td>
<td>/metrics</td>
<td>Метрики системы</td>
</tr>
<tr>
<td>Storage</td>
<td>S3 API</td>
<td>/data</td>
<td>Хранение моделей</td>
</tr>
</tbody>
</table>
<h4 id="48">4.8. Риски</h4>
<p><code>Data Scientist</code></p>
<table>
<thead>
<tr>
<th>Риск</th>
<th>Вероятность</th>
<th>Влияние</th>
<th>Митгация</th>
</tr>
</thead>
<tbody>
<tr>
<td>Скачок нагрузки</td>
<td>Высокая</td>
<td>Критическое</td>
<td>Автоскейлинг + кэширование</td>
</tr>
<tr>
<td>Дрейф моделей</td>
<td>Средняя</td>
<td>Высокое</td>
<td>A/B тесты + мониторинг</td>
</tr>
<tr>
<td>Утечка данных</td>
<td>Низкая</td>
<td>Критическое</td>
<td>Шифрование + аудит</td>
</tr>
<tr>
<td>Сбой инфраструктуры</td>
<td>Низкая</td>
<td>Высокое</td>
<td>Multi-AZ + бэкапы</td>
</tr>
<tr>
<td>Атаки на API</td>
<td>Средняя</td>
<td>Высокое</td>
<td>WAF + rate limiting</td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "search.highlight", "search.share", "search.suggest", "content.code.copy", "content.tabs.link", "content.tabs.link"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>